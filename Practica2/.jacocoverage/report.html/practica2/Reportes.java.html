<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="es"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>Reportes.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCoverage analysis of project &quot;Practica2&quot; (powered by JaCoCo from EclEmma)</a> &gt; <a href="index.source.html" class="el_package">practica2</a> &gt; <span class="el_source">Reportes.java</span></div><h1>Reportes.java</h1><pre class="source lang-java linenums">/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */

package practica2;

import java.io.FileOutputStream;
import java.sql.SQLException;
import java.util.LinkedList;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JTable;
import javax.swing.table.DefaultTableModel;
import models.Cita;
import javax.swing.filechooser.FileNameExtensionFilter;
import com.itextpdf.text.Document;
import com.itextpdf.text.DocumentException;
import com.itextpdf.text.Font;
import com.itextpdf.text.Paragraph;
import com.itextpdf.text.pdf.PdfPTable;
import com.itextpdf.text.pdf.PdfWriter;
import java.io.FileNotFoundException;
import models.Doctor;
import models.Paciente;
import models.ReporteModel;
import service.Consultas;
import service.DB;
/**
 *
 * @author Oscar
 */
public class Reportes extends javax.swing.JFrame {

    /** Creates new form Reportes */
    private DefaultTableModel model1;
    private DefaultTableModel model2;
    private DefaultTableModel model3;
<span class="nc" id="L40">    public Reportes() {</span>
<span class="nc" id="L41">        initComponents();</span>
<span class="nc" id="L42">        model1 = (DefaultTableModel) jTable1.getModel();</span>
<span class="nc" id="L43">        model2 = (DefaultTableModel) jTable2.getModel();</span>
<span class="nc" id="L44">        model3 = (DefaultTableModel) jTable3.getModel();</span>
<span class="nc" id="L45">    }</span>

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings(&quot;unchecked&quot;)
    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;//GEN-BEGIN:initComponents
    private void initComponents() {

<span class="nc" id="L56">        jTabbedPane1 = new javax.swing.JTabbedPane();</span>
<span class="nc" id="L57">        jPanel1 = new javax.swing.JPanel();</span>
<span class="nc" id="L58">        jLabel1 = new javax.swing.JLabel();</span>
<span class="nc" id="L59">        jFormattedTextField1 = new javax.swing.JFormattedTextField();</span>
<span class="nc" id="L60">        jScrollPane1 = new javax.swing.JScrollPane();</span>
<span class="nc" id="L61">        jTable1 = new javax.swing.JTable();</span>
<span class="nc" id="L62">        jButton1 = new javax.swing.JButton();</span>
<span class="nc" id="L63">        jButton4 = new javax.swing.JButton();</span>
<span class="nc" id="L64">        jTextField1 = new javax.swing.JTextField();</span>
<span class="nc" id="L65">        jTextField2 = new javax.swing.JTextField();</span>
<span class="nc" id="L66">        jLabel4 = new javax.swing.JLabel();</span>
<span class="nc" id="L67">        jLabel5 = new javax.swing.JLabel();</span>
<span class="nc" id="L68">        jButton2 = new javax.swing.JButton();</span>
<span class="nc" id="L69">        jPanel2 = new javax.swing.JPanel();</span>
<span class="nc" id="L70">        jLabel2 = new javax.swing.JLabel();</span>
<span class="nc" id="L71">        jComboBox1 = new javax.swing.JComboBox&lt;&gt;();</span>
<span class="nc" id="L72">        jScrollPane2 = new javax.swing.JScrollPane();</span>
<span class="nc" id="L73">        jTable2 = new javax.swing.JTable();</span>
<span class="nc" id="L74">        jLabel6 = new javax.swing.JLabel();</span>
<span class="nc" id="L75">        jTextField3 = new javax.swing.JTextField();</span>
<span class="nc" id="L76">        jLabel7 = new javax.swing.JLabel();</span>
<span class="nc" id="L77">        jTextField4 = new javax.swing.JTextField();</span>
<span class="nc" id="L78">        jButton3 = new javax.swing.JButton();</span>
<span class="nc" id="L79">        jPanel3 = new javax.swing.JPanel();</span>
<span class="nc" id="L80">        jLabel3 = new javax.swing.JLabel();</span>
<span class="nc" id="L81">        jComboBox2 = new javax.swing.JComboBox&lt;&gt;();</span>
<span class="nc" id="L82">        jScrollPane3 = new javax.swing.JScrollPane();</span>
<span class="nc" id="L83">        jTable3 = new javax.swing.JTable();</span>
<span class="nc" id="L84">        jLabel8 = new javax.swing.JLabel();</span>
<span class="nc" id="L85">        jTextField5 = new javax.swing.JTextField();</span>
<span class="nc" id="L86">        jLabel9 = new javax.swing.JLabel();</span>
<span class="nc" id="L87">        jTextField6 = new javax.swing.JTextField();</span>
<span class="nc" id="L88">        jButton5 = new javax.swing.JButton();</span>

<span class="nc" id="L90">        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);</span>

<span class="nc" id="L92">        jTabbedPane1.addChangeListener(new javax.swing.event.ChangeListener() {</span>
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
<span class="nc" id="L94">                jTabbedPane1StateChanged(evt);</span>
<span class="nc" id="L95">            }</span>
        });

<span class="nc" id="L98">        jLabel1.setText(&quot;Fecha&quot;);</span>

<span class="nc" id="L100">        jFormattedTextField1.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.DateFormatter(new java.text.SimpleDateFormat(&quot;yyyy-MM-dd&quot;))));</span>

<span class="nc" id="L102">        jTable1.setModel(new javax.swing.table.DefaultTableModel(</span>
            new Object [][] {

            },
            new String [] {
                &quot;No&quot;, &quot;Correo&quot;, &quot;Paciente&quot;, &quot;Doctor&quot;, &quot;Fecha&quot;, &quot;Hora Inicio&quot;, &quot;Hora Fin&quot;, &quot;Especilalidad&quot;
            }
<span class="nc" id="L109">        ) {</span>
<span class="nc" id="L110">            boolean[] canEdit = new boolean [] {</span>
                false, false, false, false, false, false, true, true
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
<span class="nc" id="L115">                return canEdit [columnIndex];</span>
            }
        });
<span class="nc" id="L118">        jScrollPane1.setViewportView(jTable1);</span>

<span class="nc" id="L120">        jButton1.setText(&quot;Buscar&quot;);</span>
<span class="nc" id="L121">        jButton1.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L123">                jButton1ActionPerformed(evt);</span>
<span class="nc" id="L124">            }</span>
        });

<span class="nc" id="L127">        jButton4.setText(&quot;Todas las fechas&quot;);</span>
<span class="nc" id="L128">        jButton4.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L130">                jButton4ActionPerformed(evt);</span>
<span class="nc" id="L131">            }</span>
        });

<span class="nc" id="L134">        jLabel4.setText(&quot;Nombre del archivo PDF&quot;);</span>

<span class="nc" id="L136">        jLabel5.setText(&quot;Ubicacion donde se desea guardar el archivo&quot;);</span>

<span class="nc" id="L138">        jButton2.setText(&quot;Generar PDF&quot;);</span>
<span class="nc" id="L139">        jButton2.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L141">                jButton2ActionPerformed(evt);</span>
<span class="nc" id="L142">            }</span>
        });

<span class="nc" id="L145">        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);</span>
<span class="nc" id="L146">        jPanel1.setLayout(jPanel1Layout);</span>
<span class="nc" id="L147">        jPanel1Layout.setHorizontalGroup(</span>
<span class="nc" id="L148">            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L149">            .addGroup(jPanel1Layout.createSequentialGroup()</span>
<span class="nc" id="L150">                .addContainerGap()</span>
<span class="nc" id="L151">                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L152">                    .addGroup(jPanel1Layout.createSequentialGroup()</span>
<span class="nc" id="L153">                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L154">                            .addComponent(jScrollPane1)</span>
<span class="nc" id="L155">                            .addGroup(jPanel1Layout.createSequentialGroup()</span>
<span class="nc" id="L156">                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L157">                                    .addComponent(jLabel1)</span>
<span class="nc" id="L158">                                    .addGroup(jPanel1Layout.createSequentialGroup()</span>
<span class="nc" id="L159">                                        .addComponent(jFormattedTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, 244, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L160">                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)</span>
<span class="nc" id="L161">                                        .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 104, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L162">                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)</span>
<span class="nc" id="L163">                                        .addComponent(jButton4))</span>
<span class="nc" id="L164">                                    .addComponent(jTextField2, javax.swing.GroupLayout.PREFERRED_SIZE, 404, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L165">                                    .addComponent(jLabel4))</span>
<span class="nc" id="L166">                                .addGap(0, 130, Short.MAX_VALUE)))</span>
<span class="nc" id="L167">                        .addContainerGap())</span>
<span class="nc" id="L168">                    .addGroup(jPanel1Layout.createSequentialGroup()</span>
<span class="nc" id="L169">                        .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, 280, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L170">                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))</span>
<span class="nc" id="L171">                    .addGroup(jPanel1Layout.createSequentialGroup()</span>
<span class="nc" id="L172">                        .addComponent(jLabel5)</span>
<span class="nc" id="L173">                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)</span>
<span class="nc" id="L174">                        .addComponent(jButton2, javax.swing.GroupLayout.PREFERRED_SIZE, 97, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L175">                        .addGap(73, 73, 73))))</span>
        );
<span class="nc" id="L177">        jPanel1Layout.setVerticalGroup(</span>
<span class="nc" id="L178">            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L179">            .addGroup(jPanel1Layout.createSequentialGroup()</span>
<span class="nc" id="L180">                .addContainerGap()</span>
<span class="nc" id="L181">                .addComponent(jLabel1)</span>
<span class="nc" id="L182">                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)</span>
<span class="nc" id="L183">                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)</span>
<span class="nc" id="L184">                    .addComponent(jFormattedTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L185">                    .addComponent(jButton1)</span>
<span class="nc" id="L186">                    .addComponent(jButton4))</span>
<span class="nc" id="L187">                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)</span>
<span class="nc" id="L188">                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 287, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L189">                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)</span>
<span class="nc" id="L190">                .addComponent(jLabel4)</span>
<span class="nc" id="L191">                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)</span>
<span class="nc" id="L192">                .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L193">                .addGap(6, 6, 6)</span>
<span class="nc" id="L194">                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)</span>
<span class="nc" id="L195">                    .addComponent(jLabel5)</span>
<span class="nc" id="L196">                    .addComponent(jButton2, javax.swing.GroupLayout.PREFERRED_SIZE, 61, javax.swing.GroupLayout.PREFERRED_SIZE))</span>
<span class="nc" id="L197">                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)</span>
<span class="nc" id="L198">                .addComponent(jTextField2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L199">                .addGap(39, 39, 39))</span>
        );

<span class="nc" id="L202">        jTabbedPane1.addTab(&quot;Fecha&quot;, jPanel1);</span>

<span class="nc" id="L204">        jLabel2.setText(&quot;Pacientes&quot;);</span>

<span class="nc" id="L206">        jComboBox1.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L208">                jComboBox1ActionPerformed(evt);</span>
<span class="nc" id="L209">            }</span>
        });

<span class="nc" id="L212">        jTable2.setModel(new javax.swing.table.DefaultTableModel(</span>
            new Object [][] {

            },
            new String [] {
                &quot;No&quot;, &quot;Correo&quot;, &quot;Paciente&quot;, &quot;Doctor&quot;, &quot;Fecha&quot;, &quot;Hora Inicio&quot;, &quot;Hora Fin&quot;, &quot;Especilalidad&quot;
            }
<span class="nc" id="L219">        ) {</span>
<span class="nc" id="L220">            boolean[] canEdit = new boolean [] {</span>
                false, false, false, false, false, false, true, true
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
<span class="nc" id="L225">                return canEdit [columnIndex];</span>
            }
        });
<span class="nc" id="L228">        jScrollPane2.setViewportView(jTable2);</span>

<span class="nc" id="L230">        jLabel6.setText(&quot;Nombre del archivo PDF&quot;);</span>

<span class="nc" id="L232">        jLabel7.setText(&quot;Ubicacion donde se desea guardar el archivo&quot;);</span>

<span class="nc" id="L234">        jButton3.setText(&quot;Generar PDF&quot;);</span>
<span class="nc" id="L235">        jButton3.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L237">                jButton3ActionPerformed(evt);</span>
<span class="nc" id="L238">            }</span>
        });

<span class="nc" id="L241">        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);</span>
<span class="nc" id="L242">        jPanel2.setLayout(jPanel2Layout);</span>
<span class="nc" id="L243">        jPanel2Layout.setHorizontalGroup(</span>
<span class="nc" id="L244">            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L245">            .addGroup(jPanel2Layout.createSequentialGroup()</span>
<span class="nc" id="L246">                .addContainerGap()</span>
<span class="nc" id="L247">                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L248">                    .addGroup(jPanel2Layout.createSequentialGroup()</span>
<span class="nc" id="L249">                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L250">                            .addComponent(jLabel2)</span>
<span class="nc" id="L251">                            .addComponent(jComboBox1, javax.swing.GroupLayout.PREFERRED_SIZE, 583, javax.swing.GroupLayout.PREFERRED_SIZE))</span>
<span class="nc" id="L252">                        .addGap(0, 0, Short.MAX_VALUE))</span>
<span class="nc" id="L253">                    .addComponent(jScrollPane2, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 603, Short.MAX_VALUE)</span>
<span class="nc" id="L254">                    .addGroup(jPanel2Layout.createSequentialGroup()</span>
<span class="nc" id="L255">                        .addComponent(jLabel7)</span>
<span class="nc" id="L256">                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)</span>
<span class="nc" id="L257">                        .addComponent(jButton3, javax.swing.GroupLayout.PREFERRED_SIZE, 97, javax.swing.GroupLayout.PREFERRED_SIZE))</span>
<span class="nc" id="L258">                    .addGroup(jPanel2Layout.createSequentialGroup()</span>
<span class="nc" id="L259">                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L260">                            .addComponent(jTextField4, javax.swing.GroupLayout.PREFERRED_SIZE, 404, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L261">                            .addComponent(jLabel6)</span>
<span class="nc" id="L262">                            .addComponent(jTextField3, javax.swing.GroupLayout.PREFERRED_SIZE, 280, javax.swing.GroupLayout.PREFERRED_SIZE))</span>
<span class="nc" id="L263">                        .addGap(136, 136, 136)))</span>
<span class="nc" id="L264">                .addContainerGap())</span>
        );
<span class="nc" id="L266">        jPanel2Layout.setVerticalGroup(</span>
<span class="nc" id="L267">            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L268">            .addGroup(jPanel2Layout.createSequentialGroup()</span>
<span class="nc" id="L269">                .addContainerGap()</span>
<span class="nc" id="L270">                .addComponent(jLabel2)</span>
<span class="nc" id="L271">                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)</span>
<span class="nc" id="L272">                .addComponent(jComboBox1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L273">                .addGap(18, 18, 18)</span>
<span class="nc" id="L274">                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 287, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L275">                .addGap(18, 18, 18)</span>
<span class="nc" id="L276">                .addComponent(jLabel6)</span>
<span class="nc" id="L277">                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)</span>
<span class="nc" id="L278">                .addComponent(jTextField3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L279">                .addGap(6, 6, 6)</span>
<span class="nc" id="L280">                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)</span>
<span class="nc" id="L281">                    .addComponent(jLabel7)</span>
<span class="nc" id="L282">                    .addComponent(jButton3, javax.swing.GroupLayout.PREFERRED_SIZE, 61, javax.swing.GroupLayout.PREFERRED_SIZE))</span>
<span class="nc" id="L283">                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)</span>
<span class="nc" id="L284">                .addComponent(jTextField4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L285">                .addContainerGap(18, Short.MAX_VALUE))</span>
        );

<span class="nc" id="L288">        jTabbedPane1.addTab(&quot;Pacientes&quot;, jPanel2);</span>

<span class="nc" id="L290">        jLabel3.setText(&quot;Doctores&quot;);</span>

<span class="nc" id="L292">        jComboBox2.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L294">                jComboBox2ActionPerformed(evt);</span>
<span class="nc" id="L295">            }</span>
        });

<span class="nc" id="L298">        jTable3.setModel(new javax.swing.table.DefaultTableModel(</span>
            new Object [][] {

            },
            new String [] {
                &quot;No&quot;, &quot;Correo&quot;, &quot;Paciente&quot;, &quot;Doctor&quot;, &quot;Fecha&quot;, &quot;Hora Inicio&quot;, &quot;Hora Fin&quot;, &quot;Especilalidad&quot;
            }
<span class="nc" id="L305">        ) {</span>
<span class="nc" id="L306">            boolean[] canEdit = new boolean [] {</span>
                false, false, false, false, false, false, true, true
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
<span class="nc" id="L311">                return canEdit [columnIndex];</span>
            }
        });
<span class="nc" id="L314">        jScrollPane3.setViewportView(jTable3);</span>

<span class="nc" id="L316">        jLabel8.setText(&quot;Nombre del archivo PDF&quot;);</span>

<span class="nc" id="L318">        jLabel9.setText(&quot;Ubicacion donde se desea guardar el archivo&quot;);</span>

<span class="nc" id="L320">        jButton5.setText(&quot;Generar PDF&quot;);</span>
<span class="nc" id="L321">        jButton5.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L323">                jButton5ActionPerformed(evt);</span>
<span class="nc" id="L324">            }</span>
        });

<span class="nc" id="L327">        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);</span>
<span class="nc" id="L328">        jPanel3.setLayout(jPanel3Layout);</span>
<span class="nc" id="L329">        jPanel3Layout.setHorizontalGroup(</span>
<span class="nc" id="L330">            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L331">            .addGroup(jPanel3Layout.createSequentialGroup()</span>
<span class="nc" id="L332">                .addContainerGap()</span>
<span class="nc" id="L333">                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L334">                    .addGroup(jPanel3Layout.createSequentialGroup()</span>
<span class="nc" id="L335">                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L336">                            .addComponent(jLabel3)</span>
<span class="nc" id="L337">                            .addComponent(jComboBox2, javax.swing.GroupLayout.PREFERRED_SIZE, 588, javax.swing.GroupLayout.PREFERRED_SIZE))</span>
<span class="nc" id="L338">                        .addGap(0, 0, Short.MAX_VALUE))</span>
<span class="nc" id="L339">                    .addComponent(jScrollPane3, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 603, Short.MAX_VALUE)</span>
<span class="nc" id="L340">                    .addGroup(jPanel3Layout.createSequentialGroup()</span>
<span class="nc" id="L341">                        .addComponent(jLabel9)</span>
<span class="nc" id="L342">                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)</span>
<span class="nc" id="L343">                        .addComponent(jButton5, javax.swing.GroupLayout.PREFERRED_SIZE, 97, javax.swing.GroupLayout.PREFERRED_SIZE))</span>
<span class="nc" id="L344">                    .addGroup(jPanel3Layout.createSequentialGroup()</span>
<span class="nc" id="L345">                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L346">                            .addComponent(jTextField6, javax.swing.GroupLayout.PREFERRED_SIZE, 404, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L347">                            .addComponent(jLabel8)</span>
<span class="nc" id="L348">                            .addComponent(jTextField5, javax.swing.GroupLayout.PREFERRED_SIZE, 280, javax.swing.GroupLayout.PREFERRED_SIZE))</span>
<span class="nc" id="L349">                        .addGap(136, 136, 136)))</span>
<span class="nc" id="L350">                .addContainerGap())</span>
        );
<span class="nc" id="L352">        jPanel3Layout.setVerticalGroup(</span>
<span class="nc" id="L353">            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L354">            .addGroup(jPanel3Layout.createSequentialGroup()</span>
<span class="nc" id="L355">                .addContainerGap()</span>
<span class="nc" id="L356">                .addComponent(jLabel3)</span>
<span class="nc" id="L357">                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)</span>
<span class="nc" id="L358">                .addComponent(jComboBox2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L359">                .addGap(18, 18, 18)</span>
<span class="nc" id="L360">                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 287, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L361">                .addGap(18, 18, 18)</span>
<span class="nc" id="L362">                .addComponent(jLabel8)</span>
<span class="nc" id="L363">                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)</span>
<span class="nc" id="L364">                .addComponent(jTextField5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L365">                .addGap(6, 6, 6)</span>
<span class="nc" id="L366">                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)</span>
<span class="nc" id="L367">                    .addComponent(jLabel9)</span>
<span class="nc" id="L368">                    .addComponent(jButton5, javax.swing.GroupLayout.PREFERRED_SIZE, 61, javax.swing.GroupLayout.PREFERRED_SIZE))</span>
<span class="nc" id="L369">                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)</span>
<span class="nc" id="L370">                .addComponent(jTextField6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)</span>
<span class="nc" id="L371">                .addContainerGap(18, Short.MAX_VALUE))</span>
        );

<span class="nc" id="L374">        jTabbedPane1.addTab(&quot;Doctores&quot;, jPanel3);</span>

<span class="nc" id="L376">        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());</span>
<span class="nc" id="L377">        getContentPane().setLayout(layout);</span>
<span class="nc" id="L378">        layout.setHorizontalGroup(</span>
<span class="nc" id="L379">            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L380">            .addGroup(layout.createSequentialGroup()</span>
<span class="nc" id="L381">                .addComponent(jTabbedPane1)</span>
<span class="nc" id="L382">                .addContainerGap())</span>
        );
<span class="nc" id="L384">        layout.setVerticalGroup(</span>
<span class="nc" id="L385">            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="nc" id="L386">            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()</span>
<span class="nc" id="L387">                .addContainerGap()</span>
<span class="nc" id="L388">                .addComponent(jTabbedPane1)</span>
<span class="nc" id="L389">                .addContainerGap())</span>
        );

<span class="nc" id="L392">        pack();</span>
<span class="nc" id="L393">    }// &lt;/editor-fold&gt;//GEN-END:initComponents</span>

    private void jComboBox1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBox1ActionPerformed
        // TODO add your handling code here:
<span class="nc" id="L397">        Consultas con = new Consultas();</span>
        try {
<span class="nc" id="L399">            Paciente paciente = (Paciente) jComboBox1.getSelectedItem();</span>
<span class="nc" id="L400">            LinkedList&lt;ReporteModel&gt; reporte = con.getReporte2(DB.obtener(),paciente.getIdpaciente(),1);</span>
<span class="nc" id="L401">            setReporte(reporte,model2);</span>
<span class="nc" id="L402">        } catch (SQLException ex) {</span>
<span class="nc" id="L403">            Logger.getLogger(Principal.class.getName()).log(Level.SEVERE, null, ex);</span>
<span class="nc" id="L404">        }</span>
<span class="nc" id="L405">    }//GEN-LAST:event_jComboBox1ActionPerformed</span>

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
<span class="nc" id="L408">        Consultas con = new Consultas();</span>
        try {
<span class="nc" id="L410">            LinkedList&lt;ReporteModel&gt; reporte = con.getReporte1(DB.obtener(),jFormattedTextField1.getText());</span>
<span class="nc" id="L411">            setReporte(reporte,model1);</span>
<span class="nc" id="L412">        } catch (SQLException ex) {</span>
<span class="nc" id="L413">            Logger.getLogger(Principal.class.getName()).log(Level.SEVERE, null, ex);</span>
<span class="nc" id="L414">        }        // TODO add your handling code here:</span>
<span class="nc" id="L415">    }//GEN-LAST:event_jButton1ActionPerformed</span>

    private void jTabbedPane1StateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_jTabbedPane1StateChanged
        // TODO add your handling code here:
<span class="nc bnc" id="L419" title="All 4 branches missed.">        if (jTabbedPane1.getSelectedIndex() == 1 &amp;&amp; combopacientelleno==0) {</span>
<span class="nc" id="L420">            Consultas con = new Consultas();</span>
            try {
                
<span class="nc" id="L423">                LinkedList&lt;Paciente&gt; docs = con.getPacientes((java.sql.Connection) DB.obtener());</span>
<span class="nc" id="L424">                jComboBox1.removeAll();</span>
<span class="nc" id="L425">                setPaciente(docs);</span>
<span class="nc" id="L426">                combopacientelleno=1;</span>
<span class="nc" id="L427">            } catch (SQLException ex) {</span>
<span class="nc" id="L428">                Logger.getLogger(Principal.class.getName()).log(Level.SEVERE, null, ex);</span>
<span class="nc" id="L429">            }</span>
<span class="nc bnc" id="L430" title="All 4 branches missed.">        }else if (jTabbedPane1.getSelectedIndex() == 2 &amp;&amp; combodoctorlleno==0) {</span>
<span class="nc" id="L431">            Consultas con = new Consultas();</span>
            try {
                
<span class="nc" id="L434">                LinkedList&lt;Doctor&gt; docs = con.getDoctores((java.sql.Connection) DB.obtener());</span>
<span class="nc" id="L435">                jComboBox1.removeAll();</span>
<span class="nc" id="L436">                setDoctores(docs);</span>
<span class="nc" id="L437">                combodoctorlleno=1;</span>
<span class="nc" id="L438">            } catch (SQLException ex) {</span>
<span class="nc" id="L439">                Logger.getLogger(Principal.class.getName()).log(Level.SEVERE, null, ex);</span>
<span class="nc" id="L440">            }</span>
        }
<span class="nc" id="L442">    }//GEN-LAST:event_jTabbedPane1StateChanged</span>

    private void jComboBox2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBox2ActionPerformed
        // TODO add your handling code here:
<span class="nc" id="L446">        Consultas con = new Consultas();</span>
        try {
<span class="nc" id="L448">            Doctor doctor = (Doctor) jComboBox2.getSelectedItem();</span>
<span class="nc" id="L449">            LinkedList&lt;ReporteModel&gt; reporte = con.getReporte2(DB.obtener(),doctor.getIddoctor(),0);</span>
<span class="nc" id="L450">            setReporte(reporte,model3);</span>
<span class="nc" id="L451">        } catch (SQLException ex) {</span>
<span class="nc" id="L452">            Logger.getLogger(Principal.class.getName()).log(Level.SEVERE, null, ex);</span>
<span class="nc" id="L453">        }</span>
<span class="nc" id="L454">    }//GEN-LAST:event_jComboBox2ActionPerformed</span>

    private void jButton4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton4ActionPerformed
<span class="nc" id="L457">        Consultas con = new Consultas();</span>
        try {
<span class="nc" id="L459">            LinkedList&lt;ReporteModel&gt; reporte = con.getReporte1(DB.obtener(),&quot;ok&quot;);</span>
<span class="nc" id="L460">            setReporte(reporte,model1);</span>
<span class="nc" id="L461">        } catch (SQLException ex) {</span>
<span class="nc" id="L462">            Logger.getLogger(Principal.class.getName()).log(Level.SEVERE, null, ex);</span>
<span class="nc" id="L463">        }           // TODO add your handling code here:</span>
<span class="nc" id="L464">    }//GEN-LAST:event_jButton4ActionPerformed</span>

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
        // TODO add your handling code here:
        try {
            // TODO add your handling code here:
<span class="nc" id="L470">            generarPDF(jTextField1.getText(),jTextField2.getText(),jTable1,&quot;Reporte de fecha: &quot;+jFormattedTextField1.getText()+&quot;\n \n \n&quot;);</span>
<span class="nc" id="L471">        } catch (FileNotFoundException ex) {</span>
<span class="nc" id="L472">            Logger.getLogger(Reportes.class.getName()).log(Level.SEVERE, null, ex);</span>
<span class="nc" id="L473">        } catch (DocumentException ex) {</span>
<span class="nc" id="L474">            Logger.getLogger(Reportes.class.getName()).log(Level.SEVERE, null, ex);</span>
<span class="nc" id="L475">        }</span>
<span class="nc" id="L476">    }//GEN-LAST:event_jButton2ActionPerformed</span>

    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton3ActionPerformed
        // TODO add your handling code here:
        try {
            // TODO add your handling code here:
<span class="nc" id="L482">            generarPDF(jTextField5.getText(),jTextField6.getText(),jTable3,&quot;Reporte de fecha: &quot;+jFormattedTextField1.getText()+&quot;\n \n \n&quot;);</span>
<span class="nc" id="L483">        } catch (FileNotFoundException ex) {</span>
<span class="nc" id="L484">            Logger.getLogger(Reportes.class.getName()).log(Level.SEVERE, null, ex);</span>
<span class="nc" id="L485">        } catch (DocumentException ex) {</span>
<span class="nc" id="L486">            Logger.getLogger(Reportes.class.getName()).log(Level.SEVERE, null, ex);</span>
<span class="nc" id="L487">        }</span>
<span class="nc" id="L488">    }//GEN-LAST:event_jButton3ActionPerformed</span>

    private void jButton5ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton5ActionPerformed
        // TODO add your handling code here:
<span class="nc" id="L492">    }//GEN-LAST:event_jButton5ActionPerformed</span>
<span class="nc" id="L493">    public int combopacientelleno=0;</span>
<span class="nc" id="L494">    public int combodoctorlleno=0;</span>
    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
<span class="nc bnc" id="L505" title="All 2 branches missed.">            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {</span>
<span class="nc bnc" id="L506" title="All 2 branches missed.">                if (&quot;Nimbus&quot;.equals(info.getName())) {</span>
<span class="nc" id="L507">                    javax.swing.UIManager.setLookAndFeel(info.getClassName());</span>
<span class="nc" id="L508">                    break;</span>
                }
            }
<span class="nc" id="L511">        } catch (ClassNotFoundException ex) {</span>
<span class="nc" id="L512">            java.util.logging.Logger.getLogger(Reportes.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);</span>
<span class="nc" id="L513">        } catch (InstantiationException ex) {</span>
<span class="nc" id="L514">            java.util.logging.Logger.getLogger(Reportes.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);</span>
<span class="nc" id="L515">        } catch (IllegalAccessException ex) {</span>
<span class="nc" id="L516">            java.util.logging.Logger.getLogger(Reportes.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);</span>
<span class="nc" id="L517">        } catch (javax.swing.UnsupportedLookAndFeelException ex) {</span>
<span class="nc" id="L518">            java.util.logging.Logger.getLogger(Reportes.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);</span>
<span class="nc" id="L519">        }</span>
        //&lt;/editor-fold&gt;
        //&lt;/editor-fold&gt;
        //&lt;/editor-fold&gt;
        //&lt;/editor-fold&gt;

        /* Create and display the form */
<span class="nc" id="L526">        java.awt.EventQueue.invokeLater(new Runnable() {</span>
            public void run() {
<span class="nc" id="L528">                new Reportes().setVisible(true);</span>
<span class="nc" id="L529">            }</span>
        });
<span class="nc" id="L531">    }</span>

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton3;
    private javax.swing.JButton jButton4;
    private javax.swing.JButton jButton5;
    private javax.swing.JComboBox&lt;Paciente&gt; jComboBox1;
    private javax.swing.JComboBox&lt;Doctor&gt; jComboBox2;
    private javax.swing.JFormattedTextField jFormattedTextField1;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JTabbedPane jTabbedPane1;
    private javax.swing.JTable jTable1;
    private javax.swing.JTable jTable2;
    private javax.swing.JTable jTable3;
    private javax.swing.JTextField jTextField1;
    private javax.swing.JTextField jTextField2;
    private javax.swing.JTextField jTextField3;
    private javax.swing.JTextField jTextField4;
    private javax.swing.JTextField jTextField5;
    private javax.swing.JTextField jTextField6;
    // End of variables declaration//GEN-END:variables
public boolean setReporte(LinkedList&lt;ReporteModel&gt; reportes, DefaultTableModel tabla) {
<span class="nc" id="L569">        tabla.setRowCount(0);</span>
<span class="nc bnc" id="L570" title="All 2 branches missed.">        if (reportes == null) {</span>
<span class="nc" id="L571">            return false;</span>
        }
<span class="nc bnc" id="L573" title="All 2 branches missed.">        for (ReporteModel reporte : reportes) {</span>
<span class="nc" id="L574">            tabla.addRow(new Object[]{reporte.getIdcita(),reporte.getCorreo(),reporte.getPaciente(),</span>
<span class="nc" id="L575">                reporte.getDoctor(),reporte.getFecha(),reporte.getHorainicio(),reporte.getHorafin(),reporte.getEspecialidad()});</span>
<span class="nc" id="L576">        }</span>
<span class="nc" id="L577">        return true;</span>
    }
public boolean setPaciente(LinkedList&lt;Paciente&gt; pacientes) {
<span class="nc" id="L580">        jComboBox1.removeAll();</span>
<span class="nc bnc" id="L581" title="All 2 branches missed.">        if (pacientes == null) {</span>
<span class="nc" id="L582">            return false;</span>
        }
<span class="nc bnc" id="L584" title="All 2 branches missed.">        for (Paciente paciente : pacientes) {</span>
<span class="nc" id="L585">            jComboBox1.addItem(paciente);</span>
<span class="nc" id="L586">        }</span>
<span class="nc" id="L587">        return true;</span>
    }
public boolean setDoctores(LinkedList&lt;Doctor&gt; doctores) {
<span class="nc" id="L590">        jComboBox1.removeAll();</span>
<span class="nc bnc" id="L591" title="All 2 branches missed.">        if (doctores == null) {</span>
<span class="nc" id="L592">            return false;</span>
        }
<span class="nc bnc" id="L594" title="All 2 branches missed.">        for (Doctor doctor : doctores) {</span>
<span class="nc" id="L595">            jComboBox2.addItem(doctor);</span>
<span class="nc" id="L596">        }</span>
<span class="nc" id="L597">        return true;</span>
    }

public boolean generarPDF(String nombre, String ubicacion, JTable tabla,String titulo) throws FileNotFoundException, DocumentException{
        try{
<span class="nc" id="L602">            Document doc = new Document();</span>
<span class="nc" id="L603">            PdfWriter.getInstance(doc, new FileOutputStream(ubicacion+&quot;\\&quot;+nombre+&quot;.pdf&quot;));</span>
<span class="nc" id="L604">            doc.open();</span>
<span class="nc" id="L605">            PdfPTable pdftable = new PdfPTable(tabla.getColumnCount());</span>
<span class="nc" id="L606">            Paragraph p=new Paragraph();</span>
<span class="nc" id="L607">            Font f=new Font();</span>
<span class="nc" id="L608">            f.setStyle(Font.BOLDITALIC);</span>
<span class="nc" id="L609">            f.setSize(14);</span>
<span class="nc" id="L610">            p.setFont(f);</span>
<span class="nc" id="L611">            p.add(titulo);</span>
            
<span class="nc" id="L613">            doc.add(p);</span>
<span class="nc bnc" id="L614" title="All 2 branches missed.">            for(int rows=0;rows&lt;tabla.getRowCount();rows++){</span>
<span class="nc bnc" id="L615" title="All 2 branches missed.">                for(int cols=0;cols&lt;tabla.getColumnCount();cols++){</span>
<span class="nc" id="L616">                    pdftable.addCell(tabla.getModel().getValueAt(rows,cols).toString());</span>
                }   
            }
<span class="nc" id="L619">            doc.add(pdftable);</span>
<span class="nc" id="L620">            doc.close();</span>
<span class="nc" id="L621">            return true;</span>
        }
<span class="nc" id="L623">        catch(DocumentException e){</span>
<span class="nc" id="L624">            System.out.println(&quot;Boludo&quot;);</span>
<span class="nc" id="L625">            return false;</span>
        }
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.6.201602180812</span></div></body></html>